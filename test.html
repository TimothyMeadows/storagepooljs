<html lang="en-us">

<head>
    <title></title>
    <script src="storagepool.js"></script>
</head>

<body>
    <script>
        StoragePool("test-container").then(function (container) {
            container.count().then(function (count) {
                console.log("files: " + count);
            });

            var blob = new container.StorageBlob("/test/path/test.txt");
            blob.exists().then(function (exists) {
                if (exists) {
                    blob.delete().then(function () {
                        blob.write("This is the test contents of test.txt").then(function () {
                            blob.read().then(function (file) {
                                document.getElementById("file").innerText = file;
                            });
                        });
                    });
                } else {
                    blob.write("This is the test contents of test.txt").then(function () {
                        blob.read().then(function (file) {
                            document.getElementById("file").innerText = file;
                        });
                    });
                }
            });
        }).catch(function (err) {
            console.log("Container Error: " + err);
        });
    </script>
    <div id="file"></div>
</body>

</html>